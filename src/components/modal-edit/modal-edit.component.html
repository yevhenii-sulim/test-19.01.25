<ng-container>
  <h1 class="title-form">Edit user info</h1>
  <form class="form" [formGroup]="profileForm" (ngSubmit)="upDate()">
    <mat-form-field
      appearance="outline"
      class="input"
      hintLabel="Max 100 characters"
    >
      <mat-label>First name</mat-label>
      <input
        #firstName
        maxlength="100"
        placeholder="John"
        matInput
        type="text"
        formControlName="firstName"
        name="firstName"
      />
      <mat-hint align="end">{{ firstName.value.length }}/100</mat-hint>
    </mat-form-field>
    <mat-form-field
      appearance="outline"
      class="input"
      hintLabel="Max 100 characters"
    >
      <mat-label>Last name</mat-label>
      <input
        #lastName
        maxlength="100"
        placeholder="Doe"
        matInput
        formControlName="lastName"
        name="lastName"
      />
      <mat-hint align="end">{{ lastName.value.length }}/100</mat-hint>
    </mat-form-field>
    <mat-form-field
      appearance="outline"
      class="input"
      hintLabel="Max 100 characters"
    >
      <mat-label>Email</mat-label>
      <input
        #email
        maxlength="100"
        placeholder="email"
        matInput
        formControlName="email"
        name="email"
      />
      <mat-hint align="end">{{ email.value.length }}/100</mat-hint>
    </mat-form-field>
    <mat-form-field appearance="outline" class="input">
      <mat-label>Tags</mat-label>
      <mat-select [formControl]="tags" multiple>
        <mat-select-trigger class="select">
          <div class="selected-options">
            @for (tag of tags.value; track tag){
            <div class="tag-item">
              <span>
                {{ tag }}
              </span>
              <button
                mat-icon-button
                (click)="removeTagTopping(tag, $event)"
                tabindex="-1"
                class="close-button"
              >
                <span class="material-symbols-outlined close"> close </span>
              </button>
            </div>
            }
          </div>
        </mat-select-trigger>
        @for (tags of tagsList; track tags) {
        <mat-option [value]="tags">{{ tags }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Textarea</mat-label>
      <textarea
        #description
        placeholder="This user is an administrator with full access to all platform features and settings."
        maxlength="1000"
        class="input textarea"
        matInput
        formControlName="description"
        name="description"
      ></textarea>
      <mat-hint align="end">{{ description.value.length }}/1000</mat-hint>
    </mat-form-field>
    <div class="actions">
      <button type="button" class="cancel" (click)="onCancel()">Cancel</button>
      <button type="submit" [disabled]="!profileForm.valid" class="accept">
        Save changes
      </button>
    </div>
  </form>
</ng-container>
